<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Eiffel RemRem Publish Service : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Eiffel REMReM Publish</title>
</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/eiffel-community/eiffel-remrem-publish">View on GitHub</a>

        <h1><a class="project_title" href="index.html">Eiffel REMReM Publish</a></h1>

        <section id="downloads">
            <a class="zip_download_link" href="https://github.com/eiffel-community/eiffel-remrem-publish/zipball/master">Download this project as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/eiffel-community/eiffel-remrem-publish/tarball/master">Download this project as a tar.gz file</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">

        <h1>
            <a id="remrem-publish-service" class="anchor" href="#remrem-publish-service" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>REMReM Publish Service
        </h1>

        <p>REMReM Publish Service allows for sending messages to a topic-based exchange on a RabbitMQ Server.</p>

        <p>Information about the REMReM Publish Service all endpoints can be got and easily accessed using next links:</p>
        <pre>http://&lt;host&gt;:&lt;port&gt;/&lt;application name&gt;/</pre> or <pre>http://&lt;host&gt;:&lt;port&gt;/&lt;application name&gt;/swagger-ui.html</pre>

        <p>Example:</p>
        <pre>http://localhost:8080/publish/</pre>

        <h2>
            <a id="configuration" class="anchor" href="#configuration" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>Configuration
        </h2>

        <h4>Running and configuring RemRem-Publish without Tomcat installation</h4>
        <p>It is also possible to execute RemRem-Publish without external Tomcat installation and using the embedded tomcat in Spring application instead.</p>
        <p>If RemRem-Publish is executed without external Tomcat installation, the configuration should be based on Spring application properties, see publish-service/src/main/resources/application.properties file for available properties.</p>
        
        <p>If running with java command, example:</p>
        <pre>java -jar publish-service/target/publish-service-x.x.x.war --properties.parameter1=value --properties.parameter2=value --properties.parameter3=value ......</pre>
        <p>It is also possible to provide path to the spring properties file:</p>
        <pre>java -jar publish-service/target/publish-service-x.x.x.war --spring.config.location=path/to/application.properties</pre>

        <p>Second option to execute RemRem-Publish is to execute maven commands from the source code root folder, example:</p>
        <pre>mvn spring-boot:run -Dspring-boot.run.arguments=--properties.parameter1=value,--properties.parameter2=value,--properties.parameter3=value,--properties.parameter4=value ......</pre>
        <p>When using maven command, Spring properties can also be changed by editing publish-service/src/main/resources/application.properties file.</p>
       
        <p>Application launch is terminated if exchange is unavailable and createExchangeIfNotExisting is set to false.
        Application can create exchange by adding createExchangeIfNotExisting property in existing rabbitmq.instances.jsonlist in application.properties file.
        </p>
       <p>eg: rabbitmq.instances.jsonlist=[{"existing properties": "values","createExchangeIfNotExisting":false }].</p>

        <h4>Running and configuring in Tomcat</h4>
        <p>Eiffel REMReM Service <strong>publish-service.war</strong> file is deployed in Tomcat Server.
            For doing this, publish-service.war file should deployed in directory: <em>tomcat/webapps</em>.
        </p>

        <p>Configuration is done in Tomcat using a application.properties file:Â <em>tomcat/conf/application.properties</em>.</p>
        <p>The application.properties configuration file should be passed via environmental variables.</p>
        <p>Set Java property <em>"SPRING_CONFIG_LOCATION=%CATALINA_HOME%\conf\application.properties"</em> in setenv file in bin folder.</p>
        <p>Start the application from Tomcat. This will read the application.properties which are given in conf folder.</p>
        <p><strong>NOTE:</strong> in each example assuming the publish-service.war is deployed in tomcat as <strong>publish</strong>.</p>

        <h4>Running and configuring in Tomcat in Linux</h4>
        <p>If you are using linux machine, please follow the below steps</p>
        <p>Add the file <em>application.properties</em> to  <em>%CATALINA_HOME%\conf</em></p>
        <p>Add <em>export JAVA_OPTS="$JAVA_OPTS -Dspring.config.location=/path/to/file/application.properties"</em> in setenv.sh in <em>tomcat/bin</em></p>
        <p>Set the System_JAVA_OPTS as <em>set JAVA_OPTS = "-Dspring.config.location=$path/to/application.properties"</em> in catalina.sh in bin folder</p>
        <p>Start the application from Tomcat</p>


        <h3>Jasypt configurations</h3>
        <p>Jasypt Spring Boot provides Encryption support for property sources(passwords, secret info ..etc) in Spring Boot Applications.
        To support this functionality in our application we need to add the following property in property file</p>

        <code>jasypt.encryptor.password: The key value which was used while encrypting the original password</code>

        <p>The above encryptor password must be same for both encryption and decryption of the original password(ldap,rabbitmq...etc) <br>
        The encryptor password  will be used by jasypt-spring-boot library in application to decrypt the encrypted password at runtime.</p>
        <h4>How to encrypt the password:</h4>
<pre>
1) Download the jasypt jar file from any of the below locations
<a href="http://www.jasypt.org/download.html">Link to Jasypt</a> (or) <a href = "https://mvnrepository.com/artifact/org.jasypt/jasypt/1.9.2">Link to Maven</a>

2) Execute the below command to generate Jasypt encrypted password
    java -cp jasypt-1.9.2.jar org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input="any password" password=any intermediate key

input   : any password which we want to encrypt(Ex: rabbitmq password, ldap user password, etc...)
password: A Jasypt key used to encrypt the above input( The Jasypt key can be anything, but make sure same key to be used for decryption)

Example:
    Run the below command in Command line

    java -cp jasypt-1.9.2.jar org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input="dummyPassword" password=dummy

output:
    ----ENVIRONMENT-----------------

    Runtime: Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 25.144-b01

    ----ARGUMENTS-------------------

    algorithm: PBEWithMD5AndDES
    input: dummyPassword
    password: dummy

    ----OUTPUT----------------------

    euJcvto7NtCDiWT7BKFW0A==
</pre>
    <p>Use the above encrypted password in your property file like this <strong>ENC(&lt;encrypted password&gt)</strong></p>
    <code>Ex:rabbitmq.password: ENC(euJcvto7NtCDiWT7BKFW0A ==)</code>
    <p><strong>Note: REMReM will work without jasypt encryption also but if you have encrypted any text using jasypt library 
    then </strong><em>jasypt.encryptor.password </em> <strong>property should be present in property file </strong></p> 

        <h3>Exchange configurations</h3>

        <p>These parameters are related to RabbitMQ Server, which will be used for publishing events:</p>

        <pre>
&lt;protocol&gt;.rabbitmq.host:          &lt;host name, eg: localhost&gt;
&lt;protocol&gt;.rabbitmq.port:          &lt;port, eg: 5672&gt;
&lt;protocol&gt;.rabbitmq.username:      &lt;username, default for RabbitMQ Server: guest&gt;
&lt;protocol&gt;.rabbitmq.password:      &lt;password, default for RabbitMQ Server: guest&gt;
&lt;protocol&gt;.rabbitmq.tls:           &lt;tls version, is optional&gt;
&lt;protocol&gt;.rabbitmq.exchangeName:  &lt;exchange name, exchange should be already created on RabbitMQ Server&gt;
&lt;protocol&gt;.rabbitmq.createExchangeIfNotExisting:  &lt;create Exchange if not present on RabbitMQ Server&gt;
&lt;protocol&gt;.rabbitmq.domainId:      &lt;domain id, any string&gt;</pre>

        <p>Application launch is terminated if exchange is unavailable and createExchangeIfNotExisting is set to false.
        Application can create the exchange by adding the below property in config.properties file
        </p>
        <p>eg: protocol.rabbitmq.createExchangeIfNotExisting: true.</p>

        <p><code>&lt;protocol&gt;</code> is name of the protocol used (eg: <code>eiffelsemantics</code>).
        </p>

        <p><strong>NOTE:</strong> properties above should be configured for each protocol, that users are going to use.</p>

        <h3>Ldap authentication configurations</h3>

        <p>Active Directory authentication can be enabled for the REMReM Publish Service by setting the configuration property
            <code>activedirectory.publish.enabled:true</code>.
        </p>

        <pre>
activedirectory.publish.enabled:  &lt;true|false&gt;
activedirectory.ldapUrl:          &lt;LDAP server url&gt;
activedirectory.managerPassword:  &lt;LDAP server manager password &gt;
activedirectory.managerDn:        &lt;LDAP managerDn pattern&gt;
activedirectory.rootDn:           &lt;LDAP rootDn pattern&gt;
activedirectory.userSearchFilter: &lt;LDAP userSearchFilter pattern&gt;</pre>

        <p><strong>LDAP authentication without Base64 encryption of user details:</strong></p>
        <pre><code>curl -XPOST -H "Content-Type: application/json" --user username:password --data @ActivityCanceled.json "http://localhost:8080/publish/producer/msg?mp=eiffelsemantics"</code></pre>

        <p><strong>NOTE:</strong> each HTTP request must then include an Authorization header with value
            <code>Basic &lt;Base64 encoded username:password&gt;</code>.
        </p>

        <p><strong>LDAP authentication with Base64 encryption of user details:</strong></p>
        <pre><code>curl -XPOST -H "Content-Type: application/json" -H 'Authorization: Basic cGFzc3dvcmQ=' --data @ActivityCanceled.json "http://localhost:8080/publish/producer/msg?mp=eiffelsemantics"</code></pre>

        <h3>Generate Service configurations for Publish Service</h3>

        <p>Properties below are important for correct work of <code>/generateAndPublish</code> endpoint.</p>

        <pre>
generate.server.host:    &lt;host, where generate service is deployed, eg: localhost&gt;
generate.server.port:    &lt;port, eg: 8080&gt;
generate.server.appName: &lt;application name of generate service, eg: generate&gt;</pre>


        <h2>
            <a id="usage" class="anchor" href="#usage" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>Usage
        </h2>
        <p>Available REST resources for REMReM Publish Service are described below.</p>

        <table style="width:100%">
            <tr>
                <th>Resource</th>
                <th>Method</th>
                <th>Parameters</th>
                <th style="margin:0px;">Request body</th>
                <th width="20%">Description</th>
            </tr>
            <tr>
                <td>/producer/msg</td>
                <td>POST</td>
                <td>
                    <p>mp - message protocol, required</p>
                    <p>msgType - message type, required</p>
                    <p>ud - user domain, not required</p>
                    <p>tag - not required</p>
                    <p>rk - routing key, not required</p>
                </td>
                <td>
<pre>{
  "meta": {
    # Matches the meta object
  },
  "data": {
    # Matches the data object
  },
  "links": {
    # Matches the links object
  }
}</pre>
                </td>
                <td>This endpoint is used to publish already generated Eiffel event to message bus.</td>
            </tr>
            <tr>
                <td>/generateAndPublish</td>
                <td>POST</td>
                <td>
                    <p>mp - message protocol, required</p>
                    <p>ud - user domain, not required</p>
                    <p>tag - not required</p>
                    <p>rk - routing key, not required</p>
                    <p>failIfMultipleFound - default: false</p>
                    <p>failIfNoneFound - default: false</p>
                </td>
                <td>
<pre>{
  "msgParams": {
    "meta": {
      # Matches the meta object
    }
  },
  "eventParams": {
    "data": {
      # Matches the data object
    },
    "links": {
      # Matches the links object
    }
  }
}</pre>
                </td>
                <td>
                    <p>This endpoint is used to generate and publish Eiffel events to message bus.
                        It provides single endpoint for both REMReM Generate and REMReM Publish.</p>
                    <p>The service works on the relative link <code>/generateAndPublish</code> if run as standalone application or
                        <code>/publish/generateAndPublish</code> if run as tomcat app.</p>
                </td>
            </tr>
            <tr>
                <td>/versions</td>
                <td>GET</td>
                <td></td>
                <td></td>
                <td>This endpoint is used to get versions of publish service and all loaded  protocols.</td>
            </tr>
        </table>

        <h5>generateAndPublish endpoint is provided with two options for Lookups in swagger page:</h5>
        <table class="lookups">
        <tr>
            <th style="text-align: left;">Options</th>
            <th style="text-align: left;">Default Value</th>
            <th style="text-align: left;">Description</th>
         </tr>
        <tr>
            <td><h6>failIfMultipleFound:</h6></td>
            <td>False</td>
            <td>If value is set to false, REMReM generates and publishes event if multiple event ids found from the event repository configured in generate and adds them in links section of the target field.
                If value is set to true, if only one event is found then REMReM generates and publishes the event successfully and if multiple event ids are found then REMReM fails to publish any event and displays relevant error message to the user.</td>
         </tr>
         <tr>
            <td><h6>failIfNoneFound:</h6></td>
            <td>False</td>
            <td>If value is set to true, if no event id fetched from configured event repository in generate, REMReM fails to publish any event and displays relevant error message to the user.
                If value is set to false, REMReM generates and publishes event if no event found or atleast one event fetched from the event repository configured in generate.</td>
         </tr>
        </table>

        <h2>
            <a id="examples" class="anchor" href="#examples" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>Examples
        </h2>
        <p>Typical examples of usage Eiffel REMReM Publish Service endpoints are described below.</p>

        <p>You can use command line tools like <a href="https://en.wikipedia.org/wiki/CURL">curl</a> or some plugin for your favorite browser. For example:</p>

        <ul>
            <li>
                <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop">Postman</a> for Chromium-based browsers
            </li>
            <li>
                <a href="https://addons.mozilla.org/en-US/firefox/addon/httprequester/">HttpRequester</a> for Firefox
            </li>
        </ul>

        <h3>
            <a id="examples1" class="anchor" href="#examples1" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>Examples for <code>/producer/msg</code> endpoint
        </h3>

        <h5>One message:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '[{"meta":{"id":"963da060-f2cf-4370-a68d-67fd872def36","type":"EiffelActivityFinishedEvent","version":"3.0.0","time":1513758440588,"tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}}' "http://localhost:8080/publish/producer/msg?mp=eiffelsemantics"</code></pre>
        <p>Result:</p>
        <pre>{"events":[{"id":"963da060-f2cf-4370-a68d-67fd872def36","status_code":200,"result":"SUCCESS","message":"Event sent successfully"}]}</pre>

        <h5>Two messages/objects and given user domain suffix:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '[{"meta":{"id":"963da060-f2cf-4370-a68d-67fd872def36","type":"EiffelActivityFinishedEvent","version":"3.0.0","time":1513758440588,"tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}},{"meta":{"id":"963da060-f2cf-4370-a68d-67fd872def36","type":"EiffelActivityFinishedEvent","version":"3.0.0","time":1513758440588,"tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}}' "http://localhost:8080/publish/producer/msg?ud=fem001&mp=eiffelsemantics"</code></pre>
        <p>Result:</p>
        <pre>{"events":[{"id":"963da060-f2cf-4370-a68d-67fd872def36","status_code":200,"result":"SUCCESS","message":"Event sent successfully"},{"id":"963da060-f2cf-4370-a68d-67fd872dek89","status_code":200,"result":"SUCCESS","message":"Event sent successfully"}]}</pre>

        <h5>One message and given tag:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '[{"meta":{"id":"963da060-f2cf-4370-a68d-67fd872def36","type":"EiffelActivityFinishedEvent","version":"3.0.0","time":1513758440588,"tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}}' "http://localhost:8080/publish/producer/msg?mp=eiffelsemantics&tag=production"</code></pre>
        <p>Result:</p>
        <pre>{"events":[{"id":"963da060-f2cf-4370-a68d-67fd872def36","status_code":200,"result":"SUCCESS","message":"Event sent successfully"}]}</pre>

        <h5>One message and given routing key:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '[{"meta":{"id":"963da060-f2cf-4370-a68d-67fd872def36","type":"EiffelActivityFinishedEvent","version":"3.0.0","time":1513758440588,"tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}}' "http://localhost:8080/publish/producer/msg?mp=eiffelsemantics&rk=myroutingkey"</code></pre>
        <p>Result:</p>
        <pre>{"events":[{"id":"963da060-f2cf-4370-a68d-67fd872def36","status_code":200,"result":"SUCCESS","message":"Event sent successfully"}]}</pre>

        <p><strong>NOTE:</strong> for any protocol, provide the Java opts as: </p>
        <pre>set JAVA_OPTS="-Djava.ext.dirs=/path/to/jars/" in catalina.sh</pre>
        <p><strong>NOTE:</strong> in the above example, protocol jar file must be present inside "/path/to/jars/" folder.</p>

        <h5>Reading data from a file:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST --data-binary "@test.data" "http://localhost:8080/publish/producer/msg?mp=eiffelsemantics"</code></pre>
        <p>Result:</p>
        <pre>{"events":[{"id":"963da060-f2cf-4370-a68d-67fd872def36","status_code":200,"result":"SUCCESS","message":"Event sent successfully"},{"id":"963da060-f2cf-4370-a68d-67fd872dek89","status_code":200,"result":"SUCCESS","message":"Event sent successfully"}]}</pre>

        <h5>Malformed input:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '[{Message}]' "http://localhost:8080/publish/producer/msg?ud=fem001&mp=eiffelsemantics"</code></pre>
        <p>Result:</p>
        <pre>{"timestamp":"Dec 27, 2017 3:34:11 PM","status":400,"error":"Bad Request","exception":"org.springframework.http.converter.HttpMessageNotReadableException","message":"Could not read JSON: ..."}</pre>

        <h3>
            <a id="examples2" class="anchor" href="#examples2" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>Examples for <code>/generateAndPublish</code> endpoint
        </h3>

        <h5>Correct message:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '{"msgParams": {"meta": {"type": "EiffelActivityFinishedEvent", "version": "3.0.0","tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins/","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}}' "http://localhost:8080/publish/generateAndPublish?mp=eiffelsemantics&msgType=EiffelActivityFinished"</code></pre>
        <p>Result:</p>
        <pre>{"events":[{"id":"963da060-f2cf-4370-a68d-67fd872def36","status_code":200,"result":"SUCCESS","message":"Event sent successfully"}]}</pre>

        <h5>Incorrect message protocol:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '{"msgParams":  {"meta": {"type": "EiffelActivityFinishedEvent", "version": "3.0.0","tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins/","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}}' "http://localhost:8080/publish/generateAndPublish?mp=incorrecteiffelprotocol&msgType=EiffelActivityFinished"</code></pre>
        <p>Result:</p>
        <pre>{"status_code":503,"result":"FAIL","message":"Message protocol is invalid"}</pre>

        <h5>Incorrect message type:</h5>
        <pre><code>curl -H "Content-Type: application/json" -X POST -d '{"msgParams":  {"meta": {"type": "EiffelActivityFinishedEvent", "version": "3.0.0","tags": ["product_master","product_feature1"], "source": {"domainId": "eiffeltest", "host": "localhost", "name": "LOCALHOST", "uri": "http://localhost:8080/jenkins/","serializer":"pkg:maven/com.github.eiffel-community/eiffel-remrem-semantics@2.0.2"}}, "eventParams": {"data": {"outcome": {"conclusion": "SUCCESSFUL"}, "persistentLogs": [{"name": "firstLog", "uri": "http://localhost:8080/firstLog"}, {"name": "otherLog", "uri": "http://localhost:8080/otherlogs"}]}, "links": [{"type": "ACTIVITY_EXECUTION", "target": "e269b37d-17a1-4a10-aafb-c108735ee51f"}]}}' "http://localhost:8080/publish/generateAndPublish?mp=eiffelsemantics&msgType=incorrectmessagetype"</code></pre>
        <p>Result:</p>
        <pre>{"status_code":400,"result":"FAIL","message":"Malformed JSON or incorrect type of event"}</pre>

        <h3>
            <a id="examples3" class="anchor" href="#examples3" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>Examples for <code>/versions</code> endpoint
        </h3>
        <pre><code>curl -H "Content-Type: application/json" -X GET http://localhost:8080/generate/versions</code></pre>
        <p>Result:</p>
        <pre>{"serviceVersion":{"version":"x.x.x"},"endpointVersions":{"semanticsVersion":"x.x.x"}}</pre>

        <h2>
            <a id="statusCodes" class="anchor" href="#statusCodes" aria-hidden="true">
                <span aria-hidden="true" class="octicon octicon-link"></span>
            </a>Status Codes
        </h2>

        <p>For each user request Eiffel REMReM Publish generate response in JSON with internal status code and message.</p>
        <p>To get information about internal status codes see <a href="statusCodes.html">here</a>.</p>

    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">Eiffel REMReM Publish maintained by <a href="https://github.com/eiffel-community">EiffelCommunity</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>

</body>
</html>
